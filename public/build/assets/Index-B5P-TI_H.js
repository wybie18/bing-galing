import{r as n,a as x,j as e,H,L as m}from"./app-Bv6Eo0fQ.js";import{A as T}from"./AuthenticatedLayout-Bh02913J.js";import{h as E,i as I,L as h,d as v,e as _,j as k,b as U,k as W,f as S,l as z,m as B}from"./index-CZ02OrH6.js";import{H as O}from"./index-BpvuQYfL.js";import K from"./CreateModal-DocJVBrR.js";import"./transition-Cf43QMY0.js";import"./InputError-QTBN678e.js";import"./InputLabel-BVpxNoBc.js";import"./Modal-DEk30Ls5.js";import"./TextInput-CKMq0Blm.js";function te({games:a,filters:u={},queryParams:r=null}){r=r||{};const[l,p]=n.useState(u?.search??""),[i,g]=n.useState(u?.status??"all"),[b,C]=n.useState(!1),[L,f]=n.useState(!1),j=()=>{f(!0)},M=()=>{f(!1)};n.useEffect(()=>{const s=setTimeout(()=>{F()},300);return()=>clearTimeout(s)},[l]);const F=()=>{const s={...r};l?s.search=l:delete s.search,delete s.page,x.get(route("games.index"),s,{preserveState:!0,replace:!0})},$=s=>{g(s);const t={...r};s==="all"?delete t.status:t.status=s,delete t.page,x.get(route("games.index"),t,{preserveState:!0,replace:!0})},A=s=>{const t={...r};t.sort_field===s?t.sort_direction=t.sort_direction==="asc"?"desc":"asc":(t.sort_field=s,t.sort_direction="asc"),x.get(route("games.index"),t,{preserveState:!0,replace:!0})},D=()=>{p(""),g("all"),x.get(route("games.index"),{},{preserveState:!0,replace:!0})},y=s=>{confirm("Are you sure you want to delete this game?")&&x.delete(route("games.destroy",s.game_code))},G=s=>r.sort_field!==s?null:r.sort_direction==="asc"?e.jsx(z,{className:"w-4 h-4"}):e.jsx(B,{className:"w-4 h-4"}),N=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),w=s=>{const t={waiting:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Waiting"},active:{bg:"bg-green-100",text:"text-green-800",label:"Active"},paused:{bg:"bg-orange-100",text:"text-orange-800",label:"Paused"},finished:{bg:"bg-gray-100",text:"text-gray-800",label:"Finished"}},o=t[s]||t.waiting;return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.bg} ${o.text}`,children:o.label})},d={all:a.data.length||0,waiting:a.data.filter(s=>s.status==="waiting").length,active:a.data.filter(s=>s.status==="active").length,paused:a.data.filter(s=>s.status==="paused").length,finished:a.data.filter(s=>s.status==="finished").length},c=n.useMemo(()=>{let s=0;return l&&s++,i!=="all"&&s++,s},[l,i]);return e.jsxs(T,{header:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Kasaysayan ng Laro"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pamahalaan at subaybayan ang iyong mga pang-edukasyong word bingo na laro"})]})]}),e.jsxs("button",{onClick:j,className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200 shadow-sm",children:[e.jsx(S,{className:"w-5 h-5 mr-2"}),"Gumawa ng Laro"]})]}),children:[e.jsx(H,{title:"Games"}),e.jsx("div",{className:"py-6 sm:py-8",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4 sm:hidden",children:e.jsxs("button",{onClick:()=>C(!b),className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Filters",c>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs font-bold bg-blue-600 text-white rounded-full",children:c})]})}),e.jsxs("div",{className:`space-y-4 ${b?"block":"hidden sm:block"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(O,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Maghanap gamit ang game code...",value:l,onChange:s=>p(s.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"Lahat ng Laro",count:d.all},{key:"waiting",label:"Naghihintay",count:d.waiting},{key:"active",label:"Aktibo",count:d.active},{key:"paused",label:"Naka-pause",count:d.paused},{key:"finished",label:"Natapos",count:d.finished}].map(({key:s,label:t,count:o})=>e.jsxs("button",{onClick:()=>$(s),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${i===s?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[t,e.jsxs("span",{className:"ml-2 text-xs opacity-75",children:["(",o,")"]})]},s))}),c>0&&e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[c," filter",c!==1?"s":""," ","na naka-aplay"]}),e.jsxs("button",{onClick:D,className:"flex items-center px-3 py-1 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(I,{className:"w-4 h-4 mr-1"}),"I-clear lahat"]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:[{key:"game_code",label:"Game Code"},{key:"word_bank",label:"Word Bank"},{key:"status",label:"Status"},{key:"players_count",label:"Mga Manlalaro"},{key:"created_at",label:"Nilikha"},{key:"actions",label:"Mga Aksyon"}].map(({key:s,label:t})=>e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${s!=="actions"?"cursor-pointer hover:bg-gray-100":""}`,onClick:s!=="actions"?()=>A(s):void 0,children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:t}),s!=="actions"&&G(s)]})},s))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.data.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(h,{className:"w-5 h-5 text-white"})})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.game_code})})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.word_bank?.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s.word_bank?.word_count," ","words"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w(s.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[s.players.length,"/",s.max_players]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"w-4 h-4 mr-1"}),N(s.created_at)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{href:route("games.show",s.game_code),className:"text-blue-600 hover:text-blue-900 p-1 rounded-lg hover:bg-blue-50 transition-colors",title:"View",children:e.jsx(_,{className:"w-4 h-4"})}),(s.status==="waiting"||s.status==="finished")&&e.jsx("button",{onClick:()=>y(s),className:"text-red-600 hover:text-red-900 p-1 rounded-lg hover:bg-red-50 transition-colors",title:"Delete",children:e.jsx(k,{className:"w-4 h-4"})})]})})]},s.id))})]})}),e.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:a.data.map(s=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-400 to-blue-500 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(h,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:s.game_code}),w(s.status)]}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:s.word_bank?.name}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500 space-x-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(U,{className:"w-3 h-3 mr-1"}),s.players_count,"/",s.max_players]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(W,{className:"w-3 h-3 mr-1"}),s.word_bank?.word_count," ","words"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(v,{className:"w-3 h-3 mr-1"}),N(s.created_at)]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[e.jsx(m,{href:route("games.show",s.game_code),className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(_,{className:"w-4 h-4"})}),(s.status==="waiting"||s.status==="finished")&&e.jsx("button",{onClick:()=>y(s),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(k,{className:"w-4 h-4"})})]})]})},s.id))}),a.links&&a.links.length>3&&e.jsx("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.prev_page_url&&e.jsx(m,{href:a.prev_page_url,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Nakaraan"}),a.next_page_url&&e.jsx(m,{href:a.next_page_url,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Susunod"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:a.from||0})," ","to"," ",e.jsx("span",{className:"font-medium",children:a.to||0})," ","of"," ",e.jsx("span",{className:"font-medium",children:a.total})," ","results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:a.links.map((s,t)=>e.jsx(m,{href:s.url||"#",className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${s.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${t===0?"rounded-l-md":t===a.links.length-1?"rounded-r-md":""} ${s.url?"cursor-pointer":"cursor-not-allowed opacity-50"}`,dangerouslySetInnerHTML:{__html:s.label}},t))})})]})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(h,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Walang natagpuang laro"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l||i!=="all"?"Subukan i-adjust ang iyong paghahanap o filter criteria.":"Magsimula sa pamamagitan ng paglikha ng iyong unang laro."}),!l&&i==="all"&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:j,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(S,{className:"w-5 h-5 mr-2"}),"Gumawa ng Laro"]})})]})})]})}),e.jsx(K,{openModal:L,closeModal:M})]})}export{te as default};
