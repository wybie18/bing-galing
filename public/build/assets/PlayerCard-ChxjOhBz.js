import{j as e,H as y,a as w}from"./app-C_cz8bv4.js";import{A as f}from"./AuthenticatedLayout-QOrDlllg.js";import{n as v,o as L,p as C,q as o,L as B,r as S,c as $}from"./index-D4k7EDuT.js";import"./transition-Bf3tepnj.js";function D({game:d,player:t,bingo_card:m,bingo_lines:r,has_bingo:n,statistics:i}){const c=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=(s,a)=>{const l="aspect-square border-2 flex flex-col items-center justify-center p-2 text-center relative transition-all duration-300";return a.is_crossed?a.id==="FREE"?`${l} bg-yellow-100 border-yellow-400 text-yellow-800`:`${l} bg-green-100 border-green-400 text-green-800`:`${l} bg-gray-50 border-gray-300 text-gray-700 hover:bg-gray-100`},g=s=>r.some(a=>a.positions.includes(s)),h=(s,a)=>!n||!g(s)?"":"ring-4 ring-yellow-400 shadow-lg animate-pulse",u=s=>({joined:"bg-blue-100 text-blue-800",playing:"bg-green-100 text-green-800",won:"bg-yellow-100 text-yellow-800",disconnected:"bg-red-100 text-red-800"})[s]||"bg-gray-100 text-gray-800",j=s=>({joined:"Sumali",playing:"Naglalaro",won:"Panalo",disconnected:"Nawalan ng koneksyon"})[s]||s,p=s=>({row:"Hanay",column:"Kolum",diagonal:"Dayagonal"})[s]||s,N=()=>{const s=[];for(let a=0;a<25;a++){const l=m[a],b=h(a);s.push(e.jsxs("div",{className:`${x(a,l)} ${b}`,children:[e.jsx("div",{className:"font-bold text-sm mb-1",children:l.word}),e.jsx("div",{className:"text-xs opacity-75 line-clamp-2",children:l.meaning}),l.is_crossed&&e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx(o,{className:"w-4 h-4 text-green-600"})}),e.jsx("div",{className:"absolute bottom-1 left-1 text-xs opacity-30",children:a})]},a))}return s};return e.jsxs(f,{header:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-pink-500 rounded-lg flex items-center justify-center",children:e.jsx(S,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:[t.name," - Bingo Card"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Laro: ",d.game_code," â€¢ ",d.word_bank?.name]})]})]}),n&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg border border-yellow-300",children:[e.jsx($,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"BINGO!"})]})]}),children:[e.jsx(y,{title:`${t.name}'s Bingo Card - Game ${d.game_code}`}),e.jsx("div",{className:"py-6 sm:py-8",children:e.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>w.get(document.referrer||route("games.index"),{},{preserveState:!0}),className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(v,{className:"w-4 h-4 mr-1"}),"Bumalik sa Laro"]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Bingo Card"}),n&&e.jsxs("div",{className:"text-sm text-yellow-600 font-medium",children:[r.length," panalong linya",r.length!==1?"s":""]})]}),e.jsx("div",{className:"grid grid-cols-5 gap-2 max-w-2xl mx-auto",children:N()}),n&&r.length>0&&e.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(L,{className:"w-5 h-5 text-yellow-600 mr-2"}),e.jsx("h4",{className:"font-medium text-yellow-800",children:"Mga Panalong Linya"})]}),e.jsx("div",{className:"space-y-1",children:r.map((s,a)=>e.jsxs("div",{className:"text-sm text-yellow-700",children:[p(s.type)," linya",s.positions&&` (positions: ${s.positions.join(", ")})`]},a))})]})]})}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center text-white font-medium",children:t.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:t.name}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-lg text-xs font-medium ${u(t.status)}`,children:j(t.status)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Sumali"}),e.jsx("span",{className:"text-sm text-gray-900",children:c(t.joined_at)})]}),t.won_at&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Nanalo"}),e.jsx("span",{className:"text-sm text-gray-900",children:c(t.won_at)})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progreso"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("span",{className:"text-sm text-blue-800",children:"Mga Naputol na Salita"})]}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600 mt-1",children:[t.crossed_words_count+1,"/25"]}),e.jsx("div",{className:"text-sm text-blue-700",children:"Kasama ang FREE space"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsx("span",{className:"text-sm text-green-800",children:"Kompletong Porsyento"})]}),e.jsxs("div",{className:"text-2xl font-bold text-green-600 mt-1",children:[i.completion_percentage,"%"]}),e.jsx("div",{className:"w-full bg-green-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${i.completion_percentage}%`}})})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{className:"w-5 h-5 text-purple-600 mr-2"}),e.jsx("span",{className:"text-sm text-purple-800",children:"Game Progress"})]}),e.jsxs("div",{className:"text-2xl font-bold text-purple-600 mt-1",children:[i.words_called,"/",i.total_words]}),e.jsx("div",{className:"text-sm text-purple-700",children:"Mga salita na tinawag"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Legend"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-400 rounded mr-3"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Salitang naputol"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-yellow-100 border-2 border-yellow-400 rounded mr-3"}),e.jsx("span",{className:"text-sm text-gray-700",children:"FREE space"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-50 border-2 border-gray-300 rounded mr-3"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Magagamit na salita"})]}),n&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-green-100 border-2 border-yellow-400 rounded mr-3 ring-2 ring-yellow-400"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Panalong linya"})]})]})]})]})]})]})})]})}export{D as default};
