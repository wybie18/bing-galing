import{r as o,a as n,j as e,H,L as r}from"./app-Bv6Eo0fQ.js";import{A}from"./AuthenticatedLayout-Bh02913J.js";import{E as x,r as m,k as N,h as E,i as $,d as v,e as y,w,j as _,f as S,l as I,m as G}from"./index-CZ02OrH6.js";import{H as O,a as L}from"./index-BpvuQYfL.js";import"./transition-Cf43QMY0.js";function X({wordBanks:a,filters:h={},queryParams:i=null}){i=i||{};const[l,u]=o.useState(h?.search??""),[c,g]=o.useState(h?.queryFilter??"all"),[p,C]=o.useState(!1);o.useEffect(()=>{const s=setTimeout(()=>{F()},300);return()=>clearTimeout(s)},[l]);const F=()=>{const s={...i};l?s.search=l:delete s.search,delete s.page,n.get(route("word-banks.index"),s,{preserveState:!0,replace:!0})},D=s=>{g(s);const t={...i};s==="all"?delete t.filter:t.filter=s,delete t.page,n.get(route("word-banks.index"),t,{preserveState:!0,replace:!0})},W=s=>{const t={...i};t.sort_field===s?t.sort_direction=t.sort_direction==="asc"?"desc":"asc":(t.sort_field=s,t.sort_direction="asc"),n.get(route("word-banks.index"),t,{preserveState:!0,replace:!0})},M=()=>{u(""),g("all"),n.get(route("word-banks.index"),{},{preserveState:!0,replace:!0})},j=s=>{confirm("Are you sure you want to delete this word bank?")&&n.delete(route("word-banks.destroy",s.id))},b=s=>{n.post(route("word-banks.duplicate",s.id))},T=s=>i.sort_field!==s?null:i.sort_direction==="asc"?e.jsx(I,{className:"w-4 h-4"}):e.jsx(G,{className:"w-4 h-4"}),f=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),d=o.useMemo(()=>{let s=0;return l&&s++,c!=="all"&&s++,s},[l,c]);return e.jsxs(A,{header:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Word Banks"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pamahalaan at tuklasin ang mga koleksyon ng salita para sa edukasyon"})]})]}),e.jsxs(r,{href:route("word-banks.create"),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200 shadow-sm",children:[e.jsx(S,{className:"w-5 h-5 mr-2"}),"Gumawa ng Word Bank"]})]}),children:[e.jsx(H,{title:"Word Banks"}),e.jsx("div",{className:"py-6 sm:py-8",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(x,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Kabuuang Word Banks"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(m,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Aking Word Banks"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a?.data.filter(s=>s.is_owner).length})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(N,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Kabuuang Salita"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.data.reduce((s,t)=>s+t.word_count,0)})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4 sm:hidden",children:e.jsxs("button",{onClick:()=>C(!p),className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Mga Filter",d>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs font-bold bg-blue-600 text-white rounded-full",children:d})]})}),e.jsxs("div",{className:`space-y-4 ${p?"block":"hidden sm:block"}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(O,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Maghanap ng word bank, paglalarawan, o guro...",value:l,onChange:s=>u(s.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"Lahat ng Word Banks",count:a.total},{key:"my_wordbanks",label:"Aking Word Banks",count:a?.data.filter(s=>s.is_owner).length}].map(({key:s,label:t,count:k})=>e.jsxs("button",{onClick:()=>D(s),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${c===s?"bg-blue-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[t,e.jsxs("span",{className:"ml-2 text-xs opacity-75",children:["(",k,")"]})]},s))}),d>0&&e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[d," filter",d!==1?"s":""," na naka-aplay"]}),e.jsxs("button",{onClick:M,className:"flex items-center px-3 py-1 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx($,{className:"w-4 h-4 mr-1"}),"I-clear lahat"]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:[{key:"name",label:"Name"},{key:"teacher",label:"Teacher"},{key:"word_count",label:"Words"},{key:"created_at",label:"Created"},{key:"actions",label:"Actions"}].map(({key:s,label:t})=>e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${s!=="actions"?"cursor-pointer hover:bg-gray-100":""}`,onClick:s!=="actions"?()=>W(s):void 0,children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:t}),s!=="actions"&&T(s)]})},s))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.data.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(x,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),s.is_owner&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Owner"})]}),s.description&&e.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:s.description})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-4 h-4 text-gray-600"})}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.teacher.name})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[s.word_count," words"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(v,{className:"w-4 h-4 mr-1"}),f(s.created_at)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(r,{href:route("word-banks.show",s.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded-lg hover:bg-blue-50 transition-colors",title:"View",children:e.jsx(y,{className:"w-4 h-4"})}),s.is_owner&&e.jsx(r,{href:route("word-banks.edit",s.id),className:"text-indigo-600 hover:text-indigo-900 p-1 rounded-lg hover:bg-indigo-50 transition-colors",title:"Edit",children:e.jsx(w,{className:"w-4 h-4"})}),!s.is_owner&&e.jsx("button",{onClick:()=>b(s),className:"text-green-600 hover:text-green-900 p-1 rounded-lg hover:bg-green-50 transition-colors",title:"Duplicate",children:e.jsx(L,{className:"w-4 h-4"})}),s.is_owner&&e.jsx("button",{onClick:()=>j(s),className:"text-red-600 hover:text-red-900 p-1 rounded-lg hover:bg-red-50 transition-colors",title:"Delete",children:e.jsx(_,{className:"w-4 h-4"})})]})})]},s.id))})]})}),e.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:a.data.map(s=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(x,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:s.name}),s.is_owner&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Owner"})]}),s.description&&e.jsx("p",{className:"text-sm text-gray-500 mb-2 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500 space-x-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(m,{className:"w-3 h-3 mr-1"}),s.teacher.name]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(N,{className:"w-3 h-3 mr-1"}),s.word_count," words"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(v,{className:"w-3 h-3 mr-1"}),f(s.created_at)]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[e.jsx(r,{href:route("word-banks.show",s.id),className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(y,{className:"w-4 h-4"})}),s.is_owner?e.jsxs(e.Fragment,{children:[e.jsx(r,{href:route("word-banks.edit",s.id),className:"p-2 text-indigo-600 hover:text-indigo-900 hover:bg-indigo-50 rounded-lg transition-colors",children:e.jsx(w,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>j(s),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(_,{className:"w-4 h-4"})})]}):e.jsx("button",{onClick:()=>b(s),className:"p-2 text-green-600 hover:text-green-900 hover:bg-green-50 rounded-lg transition-colors",children:e.jsx(L,{className:"w-4 h-4"})})]})]})},s.id))}),a.links&&a.links.length>3&&e.jsx("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.prev_page_url&&e.jsx(r,{href:a.prev_page_url,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),a.next_page_url&&e.jsx(r,{href:a.next_page_url,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:a.from||0})," ","to"," ",e.jsx("span",{className:"font-medium",children:a.to||0})," ","of"," ",e.jsx("span",{className:"font-medium",children:a.total})," ","results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:a.links.map((s,t)=>e.jsx(r,{href:s.url||"#",className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${s.active?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${t===0?"rounded-l-md":t===a.links.length-1?"rounded-r-md":""} ${s.url?"cursor-pointer":"cursor-not-allowed opacity-50"}`,dangerouslySetInnerHTML:{__html:s.label}},t))})})]})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(x,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No word banks found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l||c!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating a new word bank."}),!l&&c==="all"&&e.jsx("div",{className:"mt-6",children:e.jsxs(r,{href:route("word-banks.create"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(S,{className:"w-5 h-5 mr-2"}),"Create Word Bank"]})})]})})]})})]})}export{X as default};
