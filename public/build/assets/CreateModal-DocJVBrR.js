import{r as a,j as e,u as v,b as N}from"./app-Bv6Eo0fQ.js";import{I as g}from"./InputError-QTBN678e.js";import{I as w}from"./InputLabel-BVpxNoBc.js";import{M as k}from"./Modal-DEk30Ls5.js";import{T as C}from"./TextInput-CKMq0Blm.js";import"./transition-Cf43QMY0.js";const S=({options:l,value:n,onChange:x,placeholder:f="Select an option",valueKey:o="value",labelKey:i="label",className:h=""})=>{const[r,c]=a.useState(!1),[u,m]=a.useState(""),t=a.useRef(null),d=a.useRef(null);a.useEffect(()=>{const s=j=>{t.current&&!t.current.contains(j.target)&&c(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]),a.useEffect(()=>{r&&d.current&&setTimeout(()=>d.current.focus(),100)},[r]);const y=s=>{x(s[o]),c(!1),m("")},b=l.find(s=>s[o]===n),p=l.filter(s=>s[i]?.toLowerCase().includes(u.toLowerCase()));return e.jsxs("div",{className:`relative w-full max-w-md font-sans ${h}`,ref:t,children:[e.jsxs("button",{type:"button",onClick:()=>c(!r),className:"flex items-center justify-between w-full px-4 py-2 text-left bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[e.jsx("span",{className:`truncate ${b?"text-gray-800":"text-gray-400"}`,children:b?b[i]:f}),e.jsx("svg",{className:`w-5 h-5 text-gray-400 transform transition-transform duration-200 ${r?"-rotate-180":"rotate-0"}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r&&e.jsxs("div",{className:"absolute z-10 w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-xl animate-fade-in-down",children:[e.jsx("div",{className:"p-2",children:e.jsx("input",{ref:d,type:"text",placeholder:"Search...",value:u,onChange:s=>m(s.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400"})}),e.jsx("ul",{className:"py-1 overflow-y-auto max-h-60",children:p.length>0?p.map(s=>e.jsx("li",{onClick:()=>y(s),className:`px-4 py-2 text-sm cursor-pointer hover:bg-blue-50 ${n===s[o]?"bg-blue-100 text-blue-700 font-semibold":"text-gray-700"}`,children:s[i]},s[o])):e.jsx("li",{className:"px-4 py-2 text-sm text-gray-500",children:"No options found"})})]}),e.jsx("style",{children:`
              @keyframes fade-in-down {
                0% {
                  opacity: 0;
                  transform: translateY(-10px);
                }
                100% {
                  opacity: 1;
                  transform: translateY(0);
                }
              }
              .animate-fade-in-down {
                animation: fade-in-down 0.2s ease-out;
              }
            `})]})};function O({openModal:l,closeModal:n}){const[x,f]=a.useState([]),{data:o,setData:i,post:h,processing:r,errors:c,reset:u}=v({word_bank_id:"",max_players:30});a.useEffect(()=>{l&&N.get(route("word-banks.all")).then(t=>{f(t.data.data)}).catch(t=>{console.error("Error fetching word banks:",t)})},[l]);const m=t=>{t.preventDefault(),h(route("games.store"),{preserveScroll:!0,onSuccess:()=>{u(),n()},onError:d=>{console.log(d)}})};return e.jsx(k,{show:l,onClose:n,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-3 mb-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Gumawa ng Bagong Laro"}),e.jsx("button",{type:"button",onClick:n,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(w,{value:"Pumili ng word bank mula sa listahan sa ibaba.",className:"block text-sm font-medium text-gray-700 mb-1"}),e.jsx(S,{options:x,onChange:t=>i("word_bank_id",t),value:o.word_bank_id,labelKey:"name",valueKey:"id",placeholder:"Maghanap ng word bank..."}),e.jsx(g,{message:c.word_bank_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(w,{htmlFor:"max-players",value:"Max Players",className:"block text-sm font-medium text-gray-700"}),e.jsx(C,{id:"max-players",type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",value:o.max_players,onChange:t=>i("max_players",t.target.value),required:!0}),e.jsx(g,{message:c.max_players,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:n,disabled:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Kanselahin"}),e.jsx("button",{type:"submit",disabled:r,className:"px-4 py-2 flex text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-lg transition-colors",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Ginagawa..."]}):"Gumawa"})]})]})]})})}export{O as default};
