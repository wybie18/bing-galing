import{r as x,u as _,j as e,H as L,a as p}from"./app-E33wXCP4.js";import{T as M}from"./TextInput-3bepiFwx.js";import{A}from"./AuthenticatedLayout-DgZ6locj.js";import{F as v,f as N,i as B,G as j,j as E,w as G,n as D}from"./index-CBXdtjI5.js";import"./transition-BCReLfx2.js";function O(){const[i,g]=x.useState([]),[u,l]=x.useState(!1),{data:d,setData:h,post:P,processing:y,errors:o,reset:T}=_({name:"",description:"",is_active:!0,words:[]}),[r,c]=x.useState({word:"",meaning:"",is_active:!0}),[n,m]=x.useState({}),w=(s,a)=>{c(t=>({...t,[s]:a})),n[s]&&m(t=>({...t,[s]:""}))},k=()=>{const s={};return r.word.trim()?i.some(a=>a.word.toLowerCase()===r.word.toLowerCase())&&(s.word="This word already exists in the list"):s.word="Word is required",r.meaning.trim()||(s.meaning="Meaning is required"),s},C=()=>{const s=k();if(Object.keys(s).length>0){m(s);return}const a={id:Date.now(),...r,word:r.word.trim(),meaning:r.meaning.trim()};g(t=>[...t,a]),c({word:"",meaning:"",is_active:!0}),m({}),l(!1)},W=s=>{g(a=>a.filter(t=>t.id!==s))},F=s=>{const a=i.find(t=>t.id===s);a&&(c({word:a.word,meaning:a.meaning,is_active:a.is_active}),g(t=>t.filter(b=>b.id!==s)),l(!0))},S=s=>{s.preventDefault();const a=i.map(({id:t,...b})=>b);p.post(route("word-banks.store"),{...d,words:a},{preserveState:!0,preserveScroll:!0})},f=()=>{l(!1),c({word:"",meaning:"",is_active:!0}),m({})};return e.jsxs(A,{header:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>p.visit(route("word-banks.index")),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(D,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Gumawa ng Word Bank"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Gumawa ng bagong koleksyon ng salita para sa edukasyon"})]})]})]}),children:[e.jsx(L,{title:"Gumawa ng Word Bank"}),e.jsx("div",{className:"py-6 sm:py-8",children:e.jsx("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Impormasyon ng Word Bank"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pangunahing detalye tungkol sa iyong word bank"})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Pangalan *"}),e.jsx(M,{id:"name",className:"mt-1 block w-full",value:d.name,onChange:s=>h("name",s.target.value),required:!0,isFocused:!0}),o.name&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(v,{className:"w-4 h-4"}),o.name]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Paglalarawan"}),e.jsx("textarea",{id:"description",rows:3,value:d.description,onChange:s=>h("description",s.target.value),className:`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.description?"border-red-300":"border-gray-300"}`,placeholder:"Opsyonal na paglalarawan ng word bank"}),o.description&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[e.jsx(v,{className:"w-4 h-4"}),o.description]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:d.is_active,onChange:s=>h("is_active",s.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-700",children:"Aktibo (makikita ng iba)"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Mga Salita"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Magdagdag ng mga salita sa iyong word bank (",i.length," salita)"]})]}),!u&&e.jsxs("button",{type:"button",onClick:()=>l(!0),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Magdagdag ng Salita"]})]})}),e.jsxs("div",{className:"p-6",children:[u&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Magdagdag ng Bagong Salita"}),e.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-600",children:e.jsx(B,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salita *"}),e.jsx("input",{type:"text",value:r.word,onChange:s=>w("word",s.target.value),className:`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${n.word?"border-red-300":"border-gray-300"}`,placeholder:"Ilagay ang salita"}),n.word&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.word})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kahulugan *"}),e.jsx("input",{type:"text",value:r.meaning,onChange:s=>w("meaning",s.target.value),className:`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${n.meaning?"border-red-300":"border-gray-300"}`,placeholder:"Ilagay ang kahulugan"}),n.meaning&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.meaning})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[e.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Kanselahin"}),e.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 transition-colors",children:"Magdagdag ng Salita"})]})]}),i.length>0?e.jsx("div",{className:"space-y-3",children:i.map(s=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:s.word}),e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${s.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.is_active?"Aktibo":"Hindi Aktibo"})]}),e.jsx("p",{className:"text-gray-700 mb-2",children:s.meaning})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>F(s.id),className:"text-blue-600 hover:text-blue-900 p-1 rounded-lg hover:bg-blue-50 transition-colors",title:"Edit word",children:e.jsx(j,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>W(s.id),className:"text-red-600 hover:text-red-900 p-1 rounded-lg hover:bg-red-50 transition-colors",title:"Remove word",children:e.jsx(E,{className:"w-4 h-4"})})]})]})},s.id))}):u?null:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(j,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Walang idinagdag na salita"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Magsimula sa pamamagitan ng pagdagdag ng unang salita sa koleksyon."}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{type:"button",onClick:()=>l(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(N,{className:"w-5 h-5 mr-2"}),"Magdagdag ng Unang Salita"]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>p.visit(route("word-banks.index")),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Kanselahin"}),e.jsx("button",{type:"submit",disabled:y,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Ginagawa..."]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Lumikha ng Word Bank"]})})]})]})})})]})}export{O as default};
